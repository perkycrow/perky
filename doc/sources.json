{
  "/application/application.doc.js": [
    {
      "type": "code",
      "title": "Basic setup",
      "source": "class MyGame extends Application {\n    static $category = 'game'\n\n    configureApplication () {\n        // Called after all systems are created\n    }\n}"
    },
    {
      "type": "code",
      "title": "Create and mount",
      "source": "const app = new Application({$id: 'demo'})\nconst container = document.getElementById('app')\n\napp.mount(container)\napp.start()\n\nconsole.log(app.mounted) // true\nconsole.log(app.element.tagName) // 'DIV'\nconsole.log(app.perkyView.width, app.perkyView.height)"
    },
    {
      "type": "code",
      "title": "List children",
      "source": "const app = new Application({$id: 'demo'})\n\nfor (const child of app.children) {\n    console.log(`${child.$id} (${child.$category})`)\n}\n\napp.dispose()"
    },
    {
      "type": "code",
      "title": "Access systems",
      "source": "const app = new Application({$id: 'demo'})\n\nconsole.log(app.manifest.$id)\nconsole.log(app.perkyView.$id)\nconsole.log(app.inputSystem.$id)\n\napp.dispose()"
    },
    {
      "type": "code",
      "title": "start / stop",
      "source": "const app = new Application({$id: 'demo'})\n\napp.on('start', () => console.log('app started'))\napp.on('stop', () => console.log('app stopped'))\n\napp.start()\nconsole.log(app.running) // true\n\napp.stop()\nconsole.log(app.running) // false\n\napp.dispose()"
    },
    {
      "type": "code",
      "title": "View properties",
      "source": "const app = new Application({$id: 'demo'})\n\nconsole.log(app.perkyView.width)\nconsole.log(app.perkyView.height)\nconsole.log(app.perkyView.aspectRatio)"
    },
    {
      "type": "code",
      "title": "Resize event",
      "source": "const app = new Application({$id: 'demo'})\n\napp.on('resize', ({width, height}) => {\n    console.log('resized to:', width, height)\n})\n\napp.perkyView.setSize({width: 800, height: 600})"
    }
  ],
  "/application/perky_view.doc.js": [
    {
      "type": "code",
      "title": "Basic creation",
      "source": "const view = new PerkyView({$id: 'myView'})\n\n// Uses a default div element\nconsole.log(view.element.tagName) // 'DIV'"
    },
    {
      "type": "code",
      "title": "With custom element",
      "source": "const canvas = document.createElement('canvas')\nconst view = new PerkyView({\n    $id: 'canvasView',\n    element: canvas\n})"
    },
    {
      "type": "code",
      "title": "Mount to container",
      "source": "const view = new PerkyView({$id: 'demo'})\nconst container = document.getElementById('app')\n\nview.mount(container)\n\nconsole.log(view.mounted) // true\nconsole.log(view.width, view.height)"
    },
    {
      "type": "code",
      "title": "Size properties",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nconsole.log(view.width)\nconsole.log(view.height)\nconsole.log(view.size) // {width, height}\nconsole.log(view.aspectRatio)"
    },
    {
      "type": "code",
      "title": "setSize",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.setSize({width: 800, height: 600})\nview.setSize({width: 100, height: 100, unit: '%'})"
    },
    {
      "type": "code",
      "title": "fit",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.fit() // Fits to container\nview.fit(someElement) // Fits to specific element"
    },
    {
      "type": "code",
      "title": "hide / show",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nconsole.log(view.isVisible()) // true\n\nview.hide()\nconsole.log(view.isVisible()) // false\n\nview.show()\nconsole.log(view.isVisible()) // true"
    },
    {
      "type": "code",
      "title": "display property",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.display = 'flex'\nconsole.log(view.display) // 'flex'"
    },
    {
      "type": "code",
      "title": "addClass / removeClass / hasClass",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.addClass('active')\nconsole.log(view.hasClass('active')) // true\n\nview.removeClass('active')\nconsole.log(view.hasClass('active')) // false"
    },
    {
      "type": "code",
      "title": "Fullscreen methods",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.enterFullscreenMode()\nview.exitFullscreenMode()\nview.toggleFullscreen()\n\n// Or via setDisplayMode\nview.setDisplayMode('fullscreen')\nview.setDisplayMode('normal')"
    },
    {
      "type": "code",
      "title": "displayMode event",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.on('displayMode:changed', ({mode}) => {\n    console.log('mode changed:', mode)\n})\n\nconsole.log(view.displayMode) // 'normal' or 'fullscreen'"
    },
    {
      "type": "code",
      "title": "mount / dismount",
      "source": "const view = new PerkyView({$id: 'demo'})\nconst container = document.getElementById('app')\n\nview.on('mount', () => console.log('mounted'))\nview.on('dismount', () => console.log('dismounted'))\n\nview.mount(container)\nconsole.log(view.container === container) // true\nconsole.log(view.mounted) // true\n\nview.dismount()\nconsole.log(view.mounted) // false"
    },
    {
      "type": "code",
      "title": "Resize event",
      "source": "const view = new PerkyView({$id: 'demo'})\n\nview.on('resize', ({width, height}) => {\n    console.log('resized:', width, height)\n})\n\nview.setSize({width: 300, height: 100})"
    }
  ],
  "/core/perky_module.doc.js": [
    {
      "type": "code",
      "title": "Direct instantiation",
      "source": "const module = new PerkyModule({\n    $id: 'myModule',\n    $category: 'custom',\n    $tags: ['active', 'visible']\n})"
    },
    {
      "type": "code",
      "title": "Subclassing",
      "source": "class Player extends PerkyModule {\n    static $category = 'entity'\n    static $tags = ['controllable']\n\n    onStart () {\n        // Called when module starts\n    }\n}"
    },
    {
      "type": "action",
      "title": "Instance properties",
      "source": "const module = new PerkyModule({\n    $id: 'player',\n    $category: 'entity'\n})\nlogger.log('$id:', module.$id)\nlogger.log('$name:', module.$name)\nlogger.log('$category:', module.$category)\nlogger.log('$status:', module.$status)"
    },
    {
      "type": "action",
      "title": "start / stop",
      "source": "const module = new PerkyModule({$id: 'test'})\nlogger.log('initial status:', module.$status)\n\nmodule.start()\nlogger.log('after start:', module.$status, 'running:', module.running)\n\nmodule.stop()\nlogger.log('after stop:', module.$status, 'running:', module.running)"
    },
    {
      "type": "action",
      "title": "dispose",
      "source": "const module = new PerkyModule({$id: 'test'})\nmodule.start()\nlogger.log('before dispose:', module.$status)\n\nmodule.dispose()\nlogger.log('after dispose:', module.$status, 'disposed:', module.disposed)"
    },
    {
      "type": "action",
      "title": "Lifecycle events",
      "source": "const module = new PerkyModule({$id: 'test'})\nmodule.on('start', () => logger.log('event: start'))\nmodule.on('stop', () => logger.log('event: stop'))\nmodule.on('dispose', () => logger.log('event: dispose'))\n\nmodule.start()\nmodule.stop()\nmodule.dispose()"
    },
    {
      "type": "action",
      "title": "create",
      "source": "const parent = new PerkyModule({$id: 'parent'})\n\nconst child = parent.create(PerkyModule, {\n    $id: 'child',\n    $category: 'component'\n})\n\nlogger.log('children count:', parent.children.length)\nlogger.log('child.$id:', child.$id)\nlogger.log('child.host:', child.host.$id)"
    },
    {
      "type": "action",
      "title": "getChild / hasChild",
      "source": "const parent = new PerkyModule({$id: 'parent'})\nparent.create(PerkyModule, {$id: 'player'})\nparent.create(PerkyModule, {$id: 'enemy'})\n\nlogger.log('hasChild player:', parent.hasChild('player'))\nlogger.log('hasChild boss:', parent.hasChild('boss'))\nlogger.log('getChild:', parent.getChild('player').$id)"
    },
    {
      "type": "action",
      "title": "Lifecycle propagation",
      "source": "const parent = new PerkyModule({$id: 'parent'})\nconst child = parent.create(PerkyModule, {$id: 'child'})\n\nchild.on('start', () => logger.log('child started'))\nchild.on('stop', () => logger.log('child stopped'))\n\nlogger.log('Starting parent...')\nparent.start()\n\nlogger.log('Stopping parent...')\nparent.stop()"
    },
    {
      "type": "action",
      "title": "childrenByCategory",
      "source": "const game = new PerkyModule({$id: 'game'})\ngame.create(PerkyModule, {$id: 'player', $category: 'entity'})\ngame.create(PerkyModule, {$id: 'enemy1', $category: 'entity'})\ngame.create(PerkyModule, {$id: 'score', $category: 'ui'})\n\nconst entities = game.childrenByCategory('entity')\nlogger.log('entities:', entities.map(e => e.$id))"
    },
    {
      "type": "action",
      "title": "Basic tags",
      "source": "const module = new PerkyModule({\n    $id: 'player',\n    $tags: ['controllable', 'visible']\n})\n\nlogger.log('$tags:', module.$tags)\nlogger.log('hasTag visible:', module.hasTag('visible'))\nlogger.log('hasTags:', module.hasTags(['controllable', 'visible']))"
    },
    {
      "type": "action",
      "title": "addTag / removeTag",
      "source": "const module = new PerkyModule({$id: 'enemy'})\n\nmodule.addTag('hostile')\nmodule.addTag('visible')\nlogger.log('after adding:', module.$tags)\n\nmodule.removeTag('hostile')\nlogger.log('after removing:', module.$tags)"
    },
    {
      "type": "action",
      "title": "childrenByTags",
      "source": "const game = new PerkyModule({$id: 'game'})\ngame.create(PerkyModule, {$id: 'player', $tags: ['entity', 'controllable']})\ngame.create(PerkyModule, {$id: 'enemy', $tags: ['entity', 'hostile']})\ngame.create(PerkyModule, {$id: 'rock', $tags: ['entity']})\n\nlogger.log('entities:', game.childrenByTags('entity').map(c => c.$id))\nlogger.log('hostile:', game.childrenByTags(['entity', 'hostile']).map(c => c.$id))"
    },
    {
      "type": "action",
      "title": "query / queryAll",
      "source": "const app = new PerkyModule({$id: 'app'})\nconst game = app.create(PerkyModule, {$id: 'game', $category: 'scene'})\ngame.create(PerkyModule, {$id: 'player', $category: 'entity', $tags: ['controllable']})\ngame.create(PerkyModule, {$id: 'enemy', $category: 'entity', $tags: ['hostile']})\n\nlogger.log('query #player:', app.query('#player')?.$id)\nlogger.log('queryAll entity:', app.queryAll('entity').map(e => e.$id))\nlogger.log('queryAll .hostile:', app.queryAll('.hostile').map(e => e.$id))"
    },
    {
      "type": "action",
      "title": "on / emit",
      "source": "const module = new PerkyModule({$id: 'test'})\n\nmodule.on('damage', amount => {\n    logger.log('received damage:', amount)\n})\n\nmodule.emit('damage', 25)\nmodule.emit('damage', 50)"
    },
    {
      "type": "action",
      "title": "listenTo",
      "source": "const player = new PerkyModule({$id: 'player'})\nconst enemy = new PerkyModule({$id: 'enemy'})\n\nplayer.listenTo(enemy, 'attack', damage => {\n    logger.log('player received attack:', damage)\n})\n\nenemy.emit('attack', 30)"
    }
  ],
  "/editor/perky_logger.doc.js": [
    {
      "type": "code",
      "title": "Usage",
      "source": "// In HTML\n// <perky-logger max-entries=\"50\"></perky-logger>\n\n// Logs appear automatically via the global logger\nlogger.log('Hello world')"
    },
    {
      "type": "action",
      "title": "info",
      "source": "logger.info('This is an info message')"
    },
    {
      "type": "action",
      "title": "notice",
      "source": "logger.notice('This is a notice message')"
    },
    {
      "type": "action",
      "title": "warn",
      "source": "logger.warn('This is a warning message')"
    },
    {
      "type": "action",
      "title": "error",
      "source": "logger.error('This is an error message')"
    },
    {
      "type": "action",
      "title": "success",
      "source": "logger.success('This is a success message')"
    },
    {
      "type": "action",
      "title": "title",
      "source": "logger.title('Section Title')\nlogger.log('Content under title')"
    },
    {
      "type": "action",
      "title": "spacer",
      "source": "logger.log('Before spacer')\nlogger.spacer()\nlogger.log('After spacer')"
    },
    {
      "type": "action",
      "title": "clear",
      "source": "logger.clear()\nlogger.log('Logger cleared')"
    },
    {
      "type": "action",
      "title": "Object",
      "source": "logger.log('user:', {name: 'Alice', age: 30, active: true})"
    },
    {
      "type": "action",
      "title": "Array",
      "source": "logger.log('items:', ['sword', 'shield', 'potion'])"
    },
    {
      "type": "action",
      "title": "Vec2",
      "source": "const position = new Vec2(100, 200)\nlogger.log('position:', position)"
    },
    {
      "type": "action",
      "title": "Nested",
      "source": "logger.log('data:', {\n    player: {name: 'Bob', pos: new Vec2(10, 20)},\n    inventory: ['gold', 'key']\n})"
    },
    {
      "type": "action",
      "title": "Multiple values",
      "source": "const x = 42\nconst y = 'hello'\nlogger.log('x:', x, 'y:', y)"
    },
    {
      "type": "action",
      "title": "Mixed types",
      "source": "logger.info('Position:', new Vec2(5, 10), 'Score:', 100)"
    }
  ],
  "/input/input_devices/keyboard_device.doc.js": [
    {
      "type": "code",
      "title": "Creation",
      "source": "const keyboard = new KeyboardDevice({\n    container: document.body\n})\n\nkeyboard.start()"
    },
    {
      "type": "code",
      "title": "API methods",
      "source": "const keyboard = new KeyboardDevice()\nkeyboard.start()\n\n// Check single key\nconst isSpacePressed = keyboard.isPressed('Space')\n\n// Get all pressed\nconst pressedControls = keyboard.getPressedControls()\n\n// Get control value (0 or 1 for buttons)\nconst value = keyboard.getValueFor('KeyW')"
    },
    {
      "type": "code",
      "title": "Prevent all",
      "source": "const keyboard = new KeyboardDevice({\n    shouldPreventDefault: true\n})"
    },
    {
      "type": "code",
      "title": "Selective prevention",
      "source": "const keyboard = new KeyboardDevice({\n    shouldPreventDefault: (event, control) => {\n        // Only prevent arrow keys and space\n        return ['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'Space']\n            .includes(control.name)\n    }\n})"
    }
  ],
  "/input/input_devices/mouse_device.doc.js": [
    {
      "type": "code",
      "title": "Creation",
      "source": "const mouse = new MouseDevice({\n    container: document.body\n})\n\nmouse.start()"
    },
    {
      "type": "code",
      "title": "Navigation control API",
      "source": "const mouse = new MouseDevice()\nconst nav = mouse.getControl('navigation')\n\n// Delta values\nnav.deltaX\nnav.deltaY\nnav.deltaZ\n\n// Gesture detection\nnav.isTrackpadPinchZoom  // ctrl/cmd + scroll\nnav.isTrackpadPan        // two-finger scroll\nnav.isMouseWheelZoom     // vertical wheel only"
    },
    {
      "type": "code",
      "title": "Block context menu",
      "source": "const mouse = new MouseDevice({\n    shouldPreventDefault: (event, control) => {\n        return control.name === 'rightButton'\n    }\n})"
    },
    {
      "type": "code",
      "title": "Block all",
      "source": "const mouse = new MouseDevice({\n    shouldPreventDefault: true\n})"
    }
  ],
  "/math/random.doc.js": [
    {
      "type": "code",
      "title": "Creation",
      "source": "const rng = new Random()\nconst seeded = new Random('my-seed')"
    },
    {
      "type": "action",
      "title": "Random numbers",
      "source": "const rng = new Random()\nlogger.log('between(0, 100):', rng.between(0, 100))\nlogger.log('between(0, 100):', rng.between(0, 100))\nlogger.log('intBetween(1, 10):', rng.intBetween(1, 10))"
    },
    {
      "type": "action",
      "title": "Reproducibility",
      "source": "const rng1 = new Random('test-seed')\nconst rng2 = new Random('test-seed')\nlogger.log('rng1:', rng1.between(0, 100))\nlogger.log('rng2:', rng2.between(0, 100))\nlogger.log('Same seed = same values')"
    },
    {
      "type": "action",
      "title": "coinToss",
      "source": "const rng = new Random()\nfor (let i = 0; i < 5; i++) {\n    logger.log('coinToss:', rng.coinToss())\n}"
    },
    {
      "type": "action",
      "title": "oneChanceIn",
      "source": "const rng = new Random()\nfor (let i = 0; i < 5; i++) {\n    logger.log('oneChanceIn(4):', rng.oneChanceIn(4))\n}"
    },
    {
      "type": "action",
      "title": "pick",
      "source": "const rng = new Random()\nconst items = ['sword', 'shield', 'potion', 'scroll']\nfor (let i = 0; i < 5; i++) {\n    logger.log('pick:', rng.pick(items))\n}"
    },
    {
      "type": "action",
      "title": "weightedChoice",
      "source": "const rng = new Random()\nconst loot = [\n    {value: 'common', weight: 70},\n    {value: 'rare', weight: 25},\n    {value: 'legendary', weight: 5}\n]\nfor (let i = 0; i < 5; i++) {\n    logger.log('loot:', rng.weightedChoice(loot))\n}"
    },
    {
      "type": "action",
      "title": "fork",
      "source": "const rng = new Random('base')\nrng.between(0, 100)\nrng.between(0, 100)\n\nconst forked = rng.fork()\nlogger.log('original:', rng.between(0, 100))\nlogger.log('forked:', forked.between(0, 100))\nlogger.log('Both continue independently')"
    },
    {
      "type": "action",
      "title": "getState / setState",
      "source": "const rng = new Random('save-test')\nlogger.log('val 1:', rng.between(0, 100))\n\nconst state = rng.getState()\nlogger.log('val 2:', rng.between(0, 100))\nlogger.log('val 3:', rng.between(0, 100))\n\nrng.setState(state)\nlogger.log('after restore:', rng.between(0, 100))"
    }
  ],
  "/math/vec2.doc.js": [
    {
      "type": "code",
      "title": "Creation",
      "source": "const a = new Vec2(3, 4)\nconst b = new Vec2({x: 1, y: 2})\nconst c = new Vec2([5, 6])"
    },
    {
      "type": "action",
      "title": "Addition",
      "source": "logger.log('a:', ctx.a)\nlogger.log('b:', ctx.b)\nlogger.log('a + b:', ctx.a.clone().add(ctx.b))"
    },
    {
      "type": "action",
      "title": "Subtraction",
      "source": "logger.log('a:', ctx.a)\nlogger.log('b:', ctx.b)\nlogger.log('a - b:', ctx.a.clone().sub(ctx.b))"
    },
    {
      "type": "action",
      "title": "Scalar multiplication",
      "source": "logger.log('a:', ctx.a)\nlogger.log('a * 2:', ctx.a.clone().multiplyScalar(2))"
    },
    {
      "type": "action",
      "title": "Length",
      "source": "logger.log('v:', ctx.v)\nlogger.log('length:', ctx.v.length())"
    },
    {
      "type": "action",
      "title": "Normalize",
      "source": "logger.log('original:', ctx.v.clone())\nlogger.log('normalized:', ctx.v.clone().normalize())"
    },
    {
      "type": "action",
      "title": "Distance",
      "source": "const other = new Vec2(0, 0)\nlogger.log('v:', ctx.v)\nlogger.log('other:', other)\nlogger.log('distance:', ctx.v.distanceTo(other))"
    },
    {
      "type": "action",
      "title": "Rotation",
      "source": "const v = new Vec2(1, 0)\nconst center = new Vec2(0, 0)\nlogger.log('original:', v.clone())\nlogger.log('rotated 90deg:', v.rotateAround(center, Math.PI / 2))"
    },
    {
      "type": "action",
      "title": "Lerp",
      "source": "const a = new Vec2(0, 0)\nconst b = new Vec2(10, 10)\nlogger.log('a:', a)\nlogger.log('b:', b)\nlogger.log('25%:', a.clone().lerp(b, 0.25))\nlogger.log('50%:', a.clone().lerp(b, 0.5))\nlogger.log('75%:', a.clone().lerp(b, 0.75))"
    },
    {
      "type": "action",
      "title": "Example",
      "source": "const result = new Vec2(1, 0)\n    .multiplyScalar(5)\n    .add(new Vec2(0, 3))\n    .normalize()\nlogger.log('result:', result)"
    }
  ],
  "/render/webgl_canvas_2d.doc.js": [
    {
      "type": "code",
      "title": "Background options",
      "source": "// Solid color\nconst renderer1 = new WebGLCanvas2D({\n    backgroundColor: '#1a1a2e'\n})\n\n// Transparent (default)\nconst renderer2 = new WebGLCanvas2D({\n    backgroundColor: 'transparent'\n})\n\n// Or set later\nrenderer1.backgroundColor = '#ff0000'"
    }
  ]
}